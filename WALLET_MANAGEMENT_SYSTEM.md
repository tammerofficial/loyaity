# ๐ฏ ูุธุงู ุฅุฏุงุฑุฉ ุงูุจุทุงูุงุช ุนุจุฑ ุงูุฌุณุฑ - Loyalty Wallet Management System

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุจุทุงูุงุช Apple Wallet ุนุจุฑ ุงูุฌุณุฑ ุงููุฑูุฒูุ ูุชูุญ ูููุฏูุฑูู ุฅุถุงูุฉ ูุงุณุชุจุฏุงู ูุชุญุฏูุซ ููุงุท ุงูุนููุงุก ูุจุงุดุฑุฉ ูู ุงูุฏุงุดุจูุฑุฏุ ูุน ุชุญุฏูุซ ุงูุจุทุงูุงุช ูู ุงูููุช ุงููุนูู.

## ๐๏ธ ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. ๐ ุงูุฌุณุฑ ุงููุฑูุฒู (Bridge)
- **ุงููููุน**: `http://192.168.8.143/applecards/loyalty_wallet_bridge.php`
- **ุงูุฏูุฑ**: ูุณูุท ุจูู ุงูุฏุงุดุจูุฑุฏ ูุจุทุงูุงุช Apple Wallet
- **ุงูุงุชุตุงู**: ูุชุตู ุจุงูุฏุงุดุจูุฑุฏ ุงููุญูู ุนูู `192.168.8.151:8000`

### 2. ๐๏ธ ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูุจุทุงูุงุช (WalletBridgeService)
- **ุงูููู**: `app/Services/WalletBridgeService.php`
- **ุงูููุงู**:
  - ุฅุถุงูุฉ ููุงุท ููุนููุงุก
  - ุงุณุชุจุฏุงู ููุงุท ุงูุนููุงุก
  - ุชุญุฏูุซ ููุงุท ุงูุนููุงุก ูุฏููุงู
  - ุฅุฑุณุงู ุฅุดุนุงุฑุงุช push
  - ุชุญุฏูุซ ุจุทุงูุงุช Apple Wallet

### 3. ๐ฎ ูุญุฏุฉ ุงูุชุญูู (WalletManagementController)
- **ุงูููู**: `app/Http/Controllers/Admin/WalletManagementController.php`
- **ุงูููุงู**:
  - ุนุฑุถ ูุงุฆูุฉ ุงูุนููุงุก
  - ุฅุฏุงุฑุฉ ููุงุท ูู ุนููู
  - ุฅุฑุณุงู ุฅุดุนุงุฑุงุช
  - ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

### 4. ๐ฅ๏ธ ูุงุฌูุงุช ุงููุณุชุฎุฏู
- **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: `resources/views/admin/wallet-management/index.blade.php`
- **ุตูุญุฉ ุงูุชูุงุตูู**: `resources/views/admin/wallet-management/show.blade.php`

## ๐ ุงูููุฒุงุช ุงููุชุงุญุฉ

### โ ุฅุฏุงุฑุฉ ุงูููุงุท
1. **ุฅุถุงูุฉ ููุงุท** - ุฅุถุงูุฉ ููุงุท ุฌุฏูุฏุฉ ููุนููู
2. **ุงุณุชุจุฏุงู ููุงุท** - ุฎุตู ููุงุท ูู ุฑุตูุฏ ุงูุนููู
3. **ุชุญุฏูุซ ููุงุท** - ุชุนููู ุฑุตูุฏ ุฌุฏูุฏ ููุนููู
4. **ุณุฌู ุงููุนุงููุงุช** - ุชุชุจุน ุฌููุน ุงูุนูููุงุช

### โ ุงูุฅุดุนุงุฑุงุช
1. **ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ** - ุนูุฏ ุฅุถุงูุฉ ุฃู ุงุณุชุจุฏุงู ุงูููุงุท
2. **ุฅุดุนุงุฑุงุช ูุฎุตุตุฉ** - ุฅุฑุณุงู ุฑุณุงุฆู ูุฎุตุตุฉ ููุนููุงุก
3. **ุชุญุฏูุซ ุงูุจุทุงูุงุช** - ุชุญุฏูุซ ุจุทุงูุงุช Apple Wallet ููุฑุงู

### โ ุงููุฑุงูุจุฉ ูุงูุฅุญุตุงุฆูุงุช
1. **ุญุงูุฉ ุงูุฌุณุฑ** - ูุฑุงูุจุฉ ุงูุงุชุตุงู ุจุงูุฌุณุฑ
2. **ุฅุญุตุงุฆูุงุช ุงููุธุงู** - ุนุฑุถ ุฅุญุตุงุฆูุงุช ููุตูุฉ
3. **ุณุฌูุงุช ุงููุธุงู** - ุชุชุจุน ุฌููุน ุงูุนูููุงุช

## ๐ฏ ุชุฏูู ุงูุนูู

### 1. ุฅุถุงูุฉ ููุงุท
```
[ุงููุฏูุฑ ูู ุงูุฏุงุดุจูุฑุฏ] 
    โ (ุฅุถุงูุฉ ููุงุท)
[WalletBridgeService] 
    โ (ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช)
[ุชุณุฌูู ุงููุนุงููุฉ] 
    โ (ุฅุฑุณุงู ููุฌุณุฑ)
[ุงูุฌุณุฑ ุงููุฑูุฒู] 
    โ (ุชุญุฏูุซ ุงูุจุทุงูุฉ)
[Apple Wallet Pass] 
    โ (ุฅุฑุณุงู ุฅุดุนุงุฑ)
[ุฌูุงุฒ ุงูุนููู]
```

### 2. ุงุณุชุจุฏุงู ููุงุท
```
[ุงููุฏูุฑ ูู ุงูุฏุงุดุจูุฑุฏ] 
    โ (ุงุณุชุจุฏุงู ููุงุท)
[WalletBridgeService] 
    โ (ุงูุชุญูู ูู ุงูุฑุตูุฏ)
[ุฎุตู ุงูููุงุท] 
    โ (ุชุญุฏูุซ ุงูุจุทุงูุฉ)
[ุงูุฌุณุฑ ุงููุฑูุฒู] 
    โ (ุฅุฑุณุงู ุฅุดุนุงุฑ)
[ุฌูุงุฒ ุงูุนููู]
```

## ๐ ุงููุณุงุฑุงุช ุงููุชุงุญุฉ

### ๐ ูุณุงุฑุงุช ุงูููุจ (Web Routes)
```php
// ุฅุฏุงุฑุฉ ุงูุจุทุงูุงุช
GET    /admin/wallet-management                    // ูุงุฆูุฉ ุงูุนููุงุก
GET    /admin/wallet-management/{id}              // ุชูุงุตูู ุงูุนููู
POST   /admin/wallet-management/{id}/add-points   // ุฅุถุงูุฉ ููุงุท
POST   /admin/wallet-management/{id}/redeem-points // ุงุณุชุจุฏุงู ููุงุท
POST   /admin/wallet-management/{id}/update-points // ุชุญุฏูุซ ููุงุท
POST   /admin/wallet-management/{id}/send-notification // ุฅุฑุณุงู ุฅุดุนุงุฑ
GET    /admin/wallet-management/statistics/bridge // ุฅุญุตุงุฆูุงุช ุงูุฌุณุฑ
```

### ๐ ูุณุงุฑุงุช API
```php
// API endpoints
POST   /api/wallet-management/{id}/add-points     // ุฅุถุงูุฉ ููุงุท
POST   /api/wallet-management/{id}/redeem-points  // ุงุณุชุจุฏุงู ููุงุท
POST   /api/wallet-management/{id}/update-points  // ุชุญุฏูุซ ููุงุท
POST   /api/wallet-management/{id}/send-notification // ุฅุฑุณุงู ุฅุดุนุงุฑ
```

## ๐จ ูุงุฌูุงุช ุงููุณุชุฎุฏู

### ๐ฑ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- **ูุงุฆูุฉ ุงูุนููุงุก** ูุน ูุนูููุงุช ุงูุจุทุงูุงุช
- **ุฃุฒุฑุงุฑ ุณุฑูุนุฉ** ูุฅุถุงูุฉ ูุงุณุชุจุฏุงู ุงูููุงุท
- **ุญุงูุฉ ุงูุฌุณุฑ** ููุฑุงูุจุฉ ุงูุงุชุตุงู
- **ุฑูุงุจุท ููุฅุญุตุงุฆูุงุช**

### ๐ค ุตูุญุฉ ุชูุงุตูู ุงูุนููู
- **ูุนูููุงุช ุงูุนููู** ุงููุงููุฉ
- **ุฃุฏูุงุช ุฅุฏุงุฑุฉ ุงูููุงุท** (ุฅุถุงูุฉุ ุงุณุชุจุฏุงูุ ุชุญุฏูุซ)
- **ุฅุฑุณุงู ุฅุดุนุงุฑุงุช** ูุฎุตุตุฉ
- **ุณุฌู ุงููุนุงููุงุช** ุงูุชูุตููู

## ๐ง ุงูุฅุนุฏุงุฏุงุช ูุงูุชูููู

### ููู ุงูุชูููู
```php
// config/loyalty.php
'bridge_url' => 'http://192.168.8.143/applecards/loyalty_wallet_bridge.php',
'bridge_secret' => 'loyalty-bridge-secret-2024',
```

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```env
WALLET_BRIDGE_URL=http://192.168.8.143/applecards/loyalty_wallet_bridge.php
WALLET_BRIDGE_SECRET=loyalty-bridge-secret-2024
```

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ููุงุท
```bash
curl -X POST http://localhost:8000/api/wallet-management/1/add-points \
  -H "Content-Type: application/json" \
  -d '{"points": 100, "reason": "ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ููุงุท"}'
```

### ุงุฎุชุจุงุฑ ุงุณุชุจุฏุงู ููุงุท
```bash
curl -X POST http://localhost:8000/api/wallet-management/1/redeem-points \
  -H "Content-Type: application/json" \
  -d '{"points": 50, "reason": "ุงุฎุชุจุงุฑ ุงุณุชุจุฏุงู ููุงุท"}'
```

### ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุฅุดุนุงุฑ
```bash
curl -X POST http://localhost:8000/api/wallet-management/1/send-notification \
  -H "Content-Type: application/json" \
  -d '{"message": "ูุฑุญุจุงู! ุชู ุชุญุฏูุซ ุจุทุงูุชู"}'
```

## ๐ ุงููุณุชููุงุช ูุงูุชุตูููุงุช

### ูุธุงู ุงููุณุชููุงุช
- **New**: 0-99 ููุทุฉ
- **Bronze**: 100-499 ููุทุฉ
- **Silver**: 500-999 ููุทุฉ
- **Gold**: 1000+ ููุทุฉ

### ุฃููุงุน ุงููุนุงููุงุช
- **earn**: ุฅุถุงูุฉ ููุงุท
- **redeem**: ุงุณุชุจุฏุงู ููุงุท
- **manual_update**: ุชุญุฏูุซ ูุฏูู

## ๐ ุงูุฃูุงู

### ููุชุงุญ ุงูุฃูุงู
- **Bridge Secret**: `loyalty-bridge-secret-2024`
- **ุงูุงุณุชุฎุฏุงู**: ููุทูุจุงุช ุงูุฅุฏุงุฑูุฉ ูุงูู API

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- **ุงูุชุญูู ูู ุงูุฑุตูุฏ** ูุจู ุงูุงุณุชุจุฏุงู
- **ุชุณุฌูู ุฌููุน ุงูุนูููุงุช** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุณุฌูุงุช ููุตูุฉ** ูุฌููุน ุงูุนูููุงุช

## ๐ ุงูุงุณุชุฎุฏุงู

### 1. ุงููุตูู ูููุธุงู
```
http://localhost:8000/admin/wallet-management
```

### 2. ุฅุฏุงุฑุฉ ุนููู ูุนูู
```
http://localhost:8000/admin/wallet-management/{customer_id}
```

### 3. ุฅุถุงูุฉ ููุงุท
- ุงููุฑ ุนูู "ุฅุถุงูุฉ ููุงุท" ูู ูุงุฆูุฉ ุงูุนููู
- ุฃุฏุฎู ุนุฏุฏ ุงูููุงุท ูุงูุณุจุจ
- ุงููุฑ "ุฅุถุงูุฉ ุงูููุงุท"

### 4. ุงุณุชุจุฏุงู ููุงุท
- ุงููุฑ ุนูู "ุงุณุชุจุฏุงู ููุงุท" ูู ูุงุฆูุฉ ุงูุนููู
- ุฃุฏุฎู ุนุฏุฏ ุงูููุงุท ูุงูุณุจุจ
- ุงููุฑ "ุงุณุชุจุฏุงู ุงูููุงุท"

### 5. ุฅุฑุณุงู ุฅุดุนุงุฑ
- ุงุฐูุจ ูุตูุญุฉ ุชูุงุตูู ุงูุนููู
- ุฃุฏุฎู ุงูุฑุณุงูุฉ ูู ุญูู ุงูุฅุดุนุงุฑ
- ุงููุฑ "ุฅุฑุณุงู"

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุชุฃูุฏ ูู ุชุดุบูู ุงูุฌุณุฑ** ูุจู ุงุณุชุฎุฏุงู ุงููุธุงู
2. **ุฑุงูุจ ุณุฌูุงุช ุงููุธุงู** ูููุดู ุนู ุงููุดุงูู
3. **ุงุฎุชุจุฑ ุงูุงุชุตุงู** ูุจู ุงูุนูููุงุช ุงููููุฉ
4. **ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โ **ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุจุทุงูุงุช ุนุจุฑ ุงูุฌุณุฑ!**

- ๐๏ธ **ุฅุฏุงุฑุฉ ุณููุฉ** ููููุงุท ูู ุงูุฏุงุดุจูุฑุฏ
- ๐ **ุชุญุฏูุซ ููุฑู** ูุจุทุงูุงุช Apple Wallet
- ๐ฑ **ุฅุดุนุงุฑุงุช push** ููุนููุงุก
- ๐ **ุณุฌูุงุช ููุตูุฉ** ูุฌููุน ุงูุนูููุงุช
- ๐ **ุฃูุงู ุนุงูู** ูุน ููุงุชูุญ ุงูุชุดููุฑ
- ๐ **ุฅุญุตุงุฆูุงุช ุดุงููุฉ** ูููุธุงู

---

**๐ฏ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุน ุจุทุงูุงุช Apple Wallet!** 